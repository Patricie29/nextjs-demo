{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/patricie/Desktop/VS-CODE/React with Max/15.NextJS_Project/pages/index.js\";\nimport MeetupList from \"../components/meetups/MeetupList\";\nimport { MongoClient } from \"mongodb\";\nimport Head from '/';\n\nconst HomePage = props => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MeetupList, {\n      meetups: props.meetups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}; // page even after deployment will automaticaly update depending on the revalidate number \n// it is faster than getServerSideProps becasue it doesnt have to regenerate page every time\n\n\nexport const getStaticProps = async () => {\n  //fetch data from API\n  // takto nasi databazi connectneme \n  const client = await MongoClient.connect('mongodb+srv://patriciesm:patriciesm@cluster0.dygl91p.mongodb.net/MeetupsNextJs?retryWrites=true&w=majority'); //connect returns a promise so we have to have this handler function as async\n\n  const db = client.db(); // this is how you get hold of the database you're connecting to\n\n  const meetupCollection = db.collection('meetups'); // volitelny nazev pro collection, pokud neexistuje tak se vytvori a pokud existuje tak se prida do existujici\n\n  const ourFetchedMeetups = await meetupCollection.find().toArray(); //toArray abychom dostaly zpet array of objects \n\n  client.close();\n  return {\n    props: {\n      meetups: ourFetchedMeetups.map(oneMeetUp => ({\n        // musime mapnout protoze mongoDB tomu priradi nejaky random id a to by nam pak tady nevzalo a hazelo error, takze to id musis prehodit na string aby to fungovalo\n        title: oneMeetUp.title,\n        address: oneMeetUp.address,\n        image: oneMeetUp.image,\n        id: oneMeetUp._id.toString()\n      }))\n    },\n    revalidate: 1 // toto vlastne kontroluje jestli doslo k nejake zmene v datech, abys porad nemusela davat npm run build tak tady si to muzes nastavit aby to ty data zkontrolovalo a podle toho aktualizovalo. ocekava to cislo - 1 znamena 1 sekunda. pokud bys mela neco co se meni pomaleji tak staci treba jedna hodina - takze bys dala 3600\n\n  };\n}; //sometimes you want to render a new page on every request so there is a better alternative: \n// next JS is looking for this name of the function\n// this function runs always on the server after deployment, never on the client side. so everything you write here is not accesible from the client side and only run on the server side\n// you can use this if you have data that changes multiple times every second \n// export const getServerSideProps = (context) => {\n//     // you can also fetch some API data\n//     // you should use this option only if you need to get to request and response, otherwise is makes your page slower because it has to regenerate the who page on every request\n//     const req = context.req  //context parametr is already built in \n//     const res = context.res\n//     return {\n//         props: {\n//             meetups: dummy_meetups\n//         }\n//     }\n// }\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/patricie/Desktop/VS-CODE/React with Max/15.NextJS_Project/pages/index.js"],"names":["MeetupList","MongoClient","Head","HomePage","props","meetups","getStaticProps","client","connect","db","meetupCollection","collection","ourFetchedMeetups","find","toArray","close","map","oneMeetUp","title","address","image","id","_id","toString","revalidate"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,kCAAvB;AACA,SAASC,WAAT,QAA4B,SAA5B;AAEA,OAAOC,IAAP,MAAiB,GAAjB;;AAGA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AACxB,sBAAO;AAAA,2BACH,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEA,KAAK,CAACC;AAA3B;AAAA;AAAA;AAAA;AAAA;AADG,mBAAP;AAGH,CAJD,C,CAUA;AACA;;;AACA,OAAO,MAAMC,cAAc,GAAG,YAAY;AACtC;AACA;AACA,QAAMC,MAAM,GAAG,MAAMN,WAAW,CAACO,OAAZ,CAAoB,4GAApB,CAArB,CAHsC,CAGkH;;AAExJ,QAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX,CALsC,CAKf;;AAEvB,QAAMC,gBAAgB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAAzB,CAPsC,CAOY;;AAElD,QAAMC,iBAAiB,GAAG,MAAMF,gBAAgB,CAACG,IAAjB,GAAwBC,OAAxB,EAAhC,CATsC,CAS4B;;AAElEP,EAAAA,MAAM,CAACQ,KAAP;AAGA,SAAO;AACHX,IAAAA,KAAK,EAAE;AACHC,MAAAA,OAAO,EAAEO,iBAAiB,CAACI,GAAlB,CAAuBC,SAAD,KAAgB;AAC3C;AACAC,QAAAA,KAAK,EAAED,SAAS,CAACC,KAF0B;AAG3CC,QAAAA,OAAO,EAAEF,SAAS,CAACE,OAHwB;AAI3CC,QAAAA,KAAK,EAAEH,SAAS,CAACG,KAJ0B;AAK3CC,QAAAA,EAAE,EAAEJ,SAAS,CAACK,GAAV,CAAcC,QAAd;AALuC,OAAhB,CAAtB;AADN,KADJ;AAUHC,IAAAA,UAAU,EAAE,CAVT,CAUY;;AAVZ,GAAP;AAaH,CA3BM,C,CA6BP;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;AAGA,eAAerB,QAAf","sourcesContent":["import MeetupList from \"../components/meetups/MeetupList\"\nimport { MongoClient } from \"mongodb\"\n\nimport Head from '/'\n\n\nconst HomePage = (props) => {\n    return <>\n        <MeetupList meetups={props.meetups} />\n    </>\n}\n\n\n\n\n\n// page even after deployment will automaticaly update depending on the revalidate number \n// it is faster than getServerSideProps becasue it doesnt have to regenerate page every time\nexport const getStaticProps = async () => {\n    //fetch data from API\n    // takto nasi databazi connectneme \n    const client = await MongoClient.connect('mongodb+srv://patriciesm:patriciesm@cluster0.dygl91p.mongodb.net/MeetupsNextJs?retryWrites=true&w=majority')  //connect returns a promise so we have to have this handler function as async\n\n    const db = client.db() // this is how you get hold of the database you're connecting to\n\n    const meetupCollection = db.collection('meetups') // volitelny nazev pro collection, pokud neexistuje tak se vytvori a pokud existuje tak se prida do existujici\n\n    const ourFetchedMeetups = await meetupCollection.find().toArray() //toArray abychom dostaly zpet array of objects \n\n    client.close()\n\n\n    return {\n        props: {\n            meetups: ourFetchedMeetups.map((oneMeetUp) => ({\n                // musime mapnout protoze mongoDB tomu priradi nejaky random id a to by nam pak tady nevzalo a hazelo error, takze to id musis prehodit na string aby to fungovalo\n                title: oneMeetUp.title,\n                address: oneMeetUp.address,\n                image: oneMeetUp.image,\n                id: oneMeetUp._id.toString()\n            }))\n        },\n        revalidate: 1  // toto vlastne kontroluje jestli doslo k nejake zmene v datech, abys porad nemusela davat npm run build tak tady si to muzes nastavit aby to ty data zkontrolovalo a podle toho aktualizovalo. ocekava to cislo - 1 znamena 1 sekunda. pokud bys mela neco co se meni pomaleji tak staci treba jedna hodina - takze bys dala 3600\n    }\n\n}\n\n//sometimes you want to render a new page on every request so there is a better alternative: \n// next JS is looking for this name of the function\n// this function runs always on the server after deployment, never on the client side. so everything you write here is not accesible from the client side and only run on the server side\n// you can use this if you have data that changes multiple times every second \n\n// export const getServerSideProps = (context) => {\n//     // you can also fetch some API data\n\n//     // you should use this option only if you need to get to request and response, otherwise is makes your page slower because it has to regenerate the who page on every request\n//     const req = context.req  //context parametr is already built in \n//     const res = context.res\n\n//     return {\n//         props: {\n//             meetups: dummy_meetups\n//         }\n//     }\n\n// }\n\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}